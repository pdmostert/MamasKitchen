const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/utils-DIW_K8zv.js","assets/utils-Cskzh8R_.css"])))=>i.map(i=>d[i]);
import{storage as E,loadHeaderFooter as C}from"./utils-DIW_K8zv.js";import"./recipeService-D2KBW1pu.js";const w="modulepreload",y=function(v){return"/"+v},g={},N=function(e,t,m){let d=Promise.resolve();if(t&&t.length>0){let h=function(n){return Promise.all(n.map(l=>Promise.resolve(l).then(o=>({status:"fulfilled",value:o}),o=>({status:"rejected",reason:o}))))};document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),a=r?.nonce||r?.getAttribute("nonce");d=h(t.map(n=>{if(n=y(n),n in g)return;g[n]=!0;const l=n.endsWith(".css"),o=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${o}`))return;const i=document.createElement("link");if(i.rel=l?"stylesheet":w,l||(i.as="script"),i.crossOrigin="",i.href=n,a&&i.setAttribute("nonce",a),document.head.appendChild(i),l)return new Promise((p,u)=>{i.addEventListener("load",p),i.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${n}`)))})}))}function s(r){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=r,window.dispatchEvent(a),!a.defaultPrevented)throw r}return d.then(r=>{for(const a of r||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};class R{createRecipeCard(e){const t=document.createElement("article");t.className="recipe-card";const m=document.createElement("div");m.className="recipe-image-wrap";const d=document.createElement("img");d.src=e.image,d.alt=e.title,d.className="recipe-image",m.appendChild(d);const s=document.createElement("div");s.className="recipe-body";const r=document.createElement("div");r.className="recipe-header";const a=document.createElement("h3");a.className="meal-title",a.textContent=e.title,r.appendChild(a);const h=document.createElement("div");h.className="recipe-meta",h.innerHTML=`
      <span class="muted">${e.readyInMinutes}m</span>
      &nbsp;â€¢&nbsp;
      <span class="muted">${e.servings}p</span>
    `;const n=document.createElement("div");n.className="recipe-tags",[...e.diets||[],...e.dishTypes||[],...e.cuisines||[]].forEach(c=>{const f=document.createElement("span");f.className="tag muted",f.textContent=c,n.appendChild(f)});const o=document.createElement("div");o.className="recipe-meta",Array.isArray(e.extendedIngredients)&&(o.innerHTML="<b>Ingredients:</b> "+e.extendedIngredients.slice(0,3).map(c=>`${c.name} (${c.amount} ${c.unit})`).join(", "));const i=document.createElement("div");i.className="recipe-actions";const p=document.createElement("button");p.className="nav-btn",p.textContent="View Recipe",p.addEventListener("click",()=>{N(async()=>{const{showRecipeDetailsModal:c}=await import("./utils-DIW_K8zv.js");return{showRecipeDetailsModal:c}},__vite__mapDeps([0,1])).then(({showRecipeDetailsModal:c})=>{c(e)})});const u=document.createElement("button");return u.className="nav-btn danger",u.textContent="Remove",u.addEventListener("click",()=>{this.removeFavorite(e.id)}),i.appendChild(p),i.appendChild(u),s.appendChild(r),s.appendChild(h),s.appendChild(n),o.innerHTML&&s.appendChild(o),s.appendChild(i),t.appendChild(m),t.appendChild(s),t}removeFavorite(e){this.favoriteRecipes=this.favoriteRecipes.filter(t=>String(t.id)!==String(e)),E.setFavorites(this.favoriteRecipes),this.render()}constructor(e="main"){this.container=document.getElementById(e),this.favoriteRecipes=E.getFavorites()||[]}async render(){if(await C(),this.container=document.getElementById("main"),!this.container)throw console.error("FavoritesView: #main container not found after header/footer load. Check your HTML and templates."),new Error("FavoritesView: #main container not found after header/footer load.");this.container.innerHTML="";const e=document.createElement("h2");if(e.className="page-title",e.textContent="Favorite Recipes",this.container.appendChild(e),this.favoriteRecipes.length===0){const t=document.createElement("p");t.className="muted",t.textContent="You have no favorite recipes yet.",this.container.appendChild(t)}else{const t=document.createElement("div");t.className="recipes-grid",this.favoriteRecipes.forEach(m=>{t.appendChild(this.createRecipeCard(m))}),this.container.appendChild(t)}}}document.addEventListener("DOMContentLoaded",async()=>{await new R("main").render()});
